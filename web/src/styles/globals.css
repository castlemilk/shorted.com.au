@tailwind base;
@tailwind components;
@tailwind utilities;
/* Font is loaded via Next.js font optimization - no need for CSS import */

@layer base {
  /* ═══════════════════════════════════════════════════════════════════
     AMBER TERMINAL GLOW THEME
     Inspired by 1970s CRT amber monitors with warm, earthy accents
     ═══════════════════════════════════════════════════════════════════ */

  :root {
    /* Core palette - Light Mode (Subtle Warm White) */
    --background: 40 25% 97%;          /* Very subtle warm white */
    --foreground: 19 18% 24%;          /* #4A3B34 - Chocolate brown text */

    --card: 40 20% 99%;                /* Nearly white cards with warmth */
    --card-foreground: 19 18% 24%;

    --popover: 40 25% 98%;             /* Subtle warm popover */
    --popover-foreground: 19 18% 24%;

    /* Primary - Amber Orange (CTA buttons, links) */
    --primary: 32 100% 65%;            /* #FFA94D - Warm amber */
    --primary-foreground: 19 40% 12%;  /* Dark brown for contrast */

    /* Secondary - Avocado Green (toggles, secondary actions) */
    --secondary: 93 26% 54%;           /* #87A96B - Muted olive */
    --secondary-foreground: 93 30% 15%;

    /* Accent - Rust Red (important labels, alerts) */
    --accent: 16 59% 55%;              /* #D16A47 - Clay rust */
    --accent-foreground: 16 50% 98%;

    /* Muted elements */
    --muted: 40 15% 94%;               /* Very subtle warm gray */
    --muted-foreground: 19 10% 45%;    /* Muted chocolate */

    /* Destructive - keep rust-adjacent */
    --destructive: 0 72% 51%;          /* Deep red */
    --destructive-foreground: 0 0% 98%;

    /* Borders & inputs - warm undertone */
    --border: 32 15% 88%;              /* Subtle warm border */
    --input: 40 15% 94%;               /* Subtle warm input bg */
    --ring: 32 100% 65%;               /* Amber focus ring */

    --radius: 0.375rem;                /* Slightly softer corners */

    /* Chart colors - warm palette */
    --red: #D16A47;                    /* Rust */
    --green: #87A96B;                  /* Avocado */
    --line-stroke: #FFA94D;            /* Amber */

    /* Semantic colors - preserved for min/max indicators */
    --semantic-red: #ef4444;           /* True red for decreases/min */
    --semantic-green: #22c55e;         /* True green for increases/max */

    /* Terminal effect variables */
    --glow-color: 32 100% 65%;
    --scanline-opacity: 0.03;
    --phosphor-blur: 0px;

    /* Font stack with retro character */
    --font-sans: "IBM Plex Mono", "JetBrains Mono", "Fira Code", ui-monospace, monospace;
    --font-display: "Space Grotesk", "IBM Plex Sans", system-ui, sans-serif;
  }

  .dark {
    /* Core palette - Dark Mode (CRT Black) */
    --background: 0 0% 5%;             /* #0C0C0C - True terminal black */
    --foreground: 48 52% 81%;          /* #E8DDB5 - Warm sand text */

    --card: 0 0% 7%;                   /* Slightly lifted black */
    --card-foreground: 48 52% 81%;

    --popover: 0 0% 8%;
    --popover-foreground: 48 52% 81%;

    /* Primary - Bright Amber (glows on dark) */
    --primary: 32 100% 65%;            /* #FFA94D - Same amber, now glowing */
    --primary-foreground: 0 0% 5%;     /* Black text on amber */

    /* Secondary - Sage Green (luminescent) */
    --secondary: 96 33% 63%;           /* #A0C080 - Lighter olive */
    --secondary-foreground: 96 40% 10%;

    /* Accent - Tawny Orange (bright alerts) */
    --accent: 19 71% 60%;              /* #E07E50 - Bright rust */
    --accent-foreground: 0 0% 5%;

    /* Muted elements */
    --muted: 0 0% 12%;                 /* Dark gray */
    --muted-foreground: 48 20% 55%;    /* Dimmed sand */

    /* Destructive */
    --destructive: 0 72% 45%;
    --destructive-foreground: 48 52% 90%;

    /* Borders & inputs - subtle warmth */
    --border: 32 15% 18%;              /* Warm dark border */
    --input: 0 0% 12%;
    --ring: 32 100% 65%;               /* Amber glow ring */

    /* Chart colors - luminescent */
    --red: #E07E50;                    /* Tawny */
    --green: #A0C080;                  /* Sage */
    --line-stroke: #FFA94D;            /* Glowing amber */

    /* Semantic colors - preserved for min/max indicators */
    --semantic-red: #f87171;           /* Bright red for dark mode */
    --semantic-green: #4ade80;         /* Bright green for dark mode */

    /* Terminal effects - enhanced in dark mode */
    --glow-color: 32 100% 65%;
    --scanline-opacity: 0.05;
    --phosphor-blur: 1px;
  }
}

@layer base {
  * {
    @apply border-border;
  }
  body {
    @apply bg-background text-foreground;
    font-family: var(--font-sans);
  }
}

.custom-mdx-content img {
  margin: 2rem auto;
  border-radius: 0.5rem;
  max-width: 80%;
  height: auto;
}

.custom-mdx-content .image-wrapper {
  width: 80%;
  margin: 2rem auto;
}

.custom-mdx-content {
  @apply text-lg leading-relaxed;
}

.custom-mdx-content p,
.custom-mdx-content ul,
.custom-mdx-content ol,
.custom-mdx-content blockquote {
  @apply my-6;
}

.custom-mdx-content h2 {
  @apply text-3xl mt-12 mb-4 leading-snug;
}

.custom-mdx-content h3 {
  @apply text-2xl mt-8 mb-4 leading-snug;
}

/* Add this for code blocks */
.custom-mdx-content pre {
  @apply my-3 p-2 bg-gray-100 dark:bg-gray-800 rounded-lg overflow-x-auto;
}

.custom-mdx-content code {
  @apply font-mono text-sm;
}

@keyframes gradient {
  0%,
  100% {
    background-position: 0% 50%;
  }
  50% {
    background-position: 100% 50%;
  }
}

.animate-gradient {
  background-size: 200% auto;
  animation: gradient 3s ease infinite;
}

/* Enhanced animations for stock search */
@keyframes shimmer {
  0% {
    background-position: -200% 0;
  }
  100% {
    background-position: 200% 0;
  }
}

@keyframes pulse-glow {
  0%,
  100% {
    opacity: 0.4;
    transform: scale(1);
  }
  50% {
    opacity: 0.8;
    transform: scale(1.05);
  }
}

@keyframes float {
  0%,
  100% {
    transform: translateY(0);
  }
  50% {
    transform: translateY(-5px);
  }
}

.animate-shimmer {
  background: linear-gradient(
    90deg,
    transparent 0%,
    rgba(255, 255, 255, 0.1) 50%,
    transparent 100%
  );
  background-size: 200% 100%;
  animation: shimmer 2s infinite;
}

.animate-pulse-glow {
  animation: pulse-glow 3s ease-in-out infinite;
}

.animate-float {
  animation: float 4s ease-in-out infinite;
}

/* Staggered animations helper */
.stagger-1 {
  animation-delay: 50ms;
}
.stagger-2 {
  animation-delay: 100ms;
}
.stagger-3 {
  animation-delay: 150ms;
}
.stagger-4 {
  animation-delay: 200ms;
}
.stagger-5 {
  animation-delay: 250ms;
}
.stagger-6 {
  animation-delay: 300ms;
}

/* Glass effect - warm tinted */
.glass {
  @apply bg-background/80 backdrop-blur-xl;
  background-color: hsl(var(--background) / 0.85);
}

.dark .glass {
  background-color: hsl(0 0% 8% / 0.9);
  box-shadow: inset 0 0 30px -15px hsl(var(--primary) / 0.1);
}

/* Focus ring enhancement - amber glow */
.focus-ring {
  @apply focus:outline-none focus:ring-2 focus:ring-primary/40 focus:ring-offset-2 focus:ring-offset-background;
}

/* ═══════════════════════════════════════════════════════════════════
   TERMINAL EFFECTS & ANIMATIONS
   ═══════════════════════════════════════════════════════════════════ */

/* CRT Scanline overlay - subtle retro effect */
.scanlines::after {
  content: "";
  position: absolute;
  inset: 0;
  pointer-events: none;
  background: repeating-linear-gradient(
    0deg,
    transparent,
    transparent 2px,
    rgba(0, 0, 0, var(--scanline-opacity)) 2px,
    rgba(0, 0, 0, var(--scanline-opacity)) 4px
  );
  z-index: 100;
}

/* Amber glow effect for text */
.text-glow {
  text-shadow:
    0 0 4px hsl(var(--primary) / 0.4),
    0 0 8px hsl(var(--primary) / 0.2);
}

.dark .text-glow {
  text-shadow:
    0 0 6px hsl(var(--primary) / 0.6),
    0 0 12px hsl(var(--primary) / 0.4),
    0 0 24px hsl(var(--primary) / 0.2);
}

/* Box glow effect - amber */
.box-glow {
  box-shadow:
    0 0 0 1px hsl(var(--primary) / 0.1),
    0 0 20px -5px hsl(var(--primary) / 0.3);
}

.dark .box-glow {
  box-shadow:
    0 0 0 1px hsl(var(--primary) / 0.2),
    0 0 30px -5px hsl(var(--primary) / 0.4),
    inset 0 0 20px -10px hsl(var(--primary) / 0.1);
}

/* Terminal cursor blink */
@keyframes cursor-blink {
  0%, 50% { opacity: 1; }
  51%, 100% { opacity: 0; }
}

.cursor-blink {
  animation: cursor-blink 1s step-end infinite;
}

/* Phosphor fade - smooth text appearance */
@keyframes phosphor-in {
  0% {
    opacity: 0;
    filter: blur(var(--phosphor-blur));
  }
  100% {
    opacity: 1;
    filter: blur(0);
  }
}

.phosphor-in {
  animation: phosphor-in 0.3s ease-out forwards;
}

/* Warm glow pulse - amber themed */
@keyframes amber-glow {
  0%, 100% {
    box-shadow:
      0 0 5px hsl(var(--primary) / 0.3),
      0 0 10px hsl(var(--primary) / 0.2);
  }
  50% {
    box-shadow:
      0 0 10px hsl(var(--primary) / 0.5),
      0 0 20px hsl(var(--primary) / 0.3),
      0 0 30px hsl(var(--primary) / 0.1);
  }
}

.animate-amber-glow {
  animation: amber-glow 3s ease-in-out infinite;
}

/* Typing effect */
@keyframes typewriter {
  from { width: 0; }
  to { width: 100%; }
}

.typewriter {
  overflow: hidden;
  white-space: nowrap;
  animation: typewriter 2s steps(40, end);
}

/* Vintage paper texture for light mode */
.paper-texture {
  background-image:
    radial-gradient(ellipse at 50% 50%, transparent 0%, hsl(var(--background)) 70%),
    url("data:image/svg+xml,%3Csvg viewBox='0 0 400 400' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E");
  background-blend-mode: soft-light;
}

.dark .paper-texture {
  background-image: none;
}

/* Monospace styling for data displays */
.mono-display {
  font-family: var(--font-sans);
  font-variant-numeric: tabular-nums;
  letter-spacing: -0.02em;
}

/* Retro terminal border style */
.terminal-border {
  border: 1px solid hsl(var(--border));
  box-shadow:
    inset 0 1px 0 hsl(var(--background) / 0.5),
    0 1px 3px hsl(var(--foreground) / 0.1);
}

.dark .terminal-border {
  box-shadow:
    inset 0 1px 0 hsl(var(--primary) / 0.05),
    0 0 20px -10px hsl(var(--primary) / 0.3);
}

/* API Documentation Styles */
.api-docs-content h1,
.api-docs-content h2,
.api-docs-content h3 {
  @apply tracking-tight;
}

/* Prism Overrides - Amber Terminal Theme */
pre[class*="language-"] {
  background: hsl(var(--muted)) !important;
  border: 1px solid hsl(var(--border)) !important;
  margin: 0 !important;
}

.dark pre[class*="language-"] {
  background: hsl(0 0% 6%) !important;
  border: 1px solid hsl(32 15% 18%) !important;
  box-shadow: inset 0 0 30px -15px hsl(32 100% 65% / 0.1);
}

code[class*="language-"] {
  color: hsl(var(--foreground)) !important;
}

.dark code[class*="language-"] {
  color: hsl(48 52% 81%) !important;          /* Warm sand */
  text-shadow: 0 0 2px hsl(32 100% 65% / 0.1);
}

/* Light mode token colors - darker for contrast */
.token.comment,
.token.prolog,
.token.doctype,
.token.cdata {
  color: hsl(19 10% 50%) !important;
}

.token.punctuation {
  color: hsl(19 15% 40%) !important;
}

.token.property,
.token.tag,
.token.boolean,
.token.number,
.token.constant,
.token.symbol,
.token.deleted {
  color: hsl(32 80% 45%) !important;          /* Darker amber */
}

.token.selector,
.token.attr-name,
.token.string,
.token.char,
.token.builtin,
.token.inserted {
  color: hsl(93 35% 40%) !important;          /* Darker green */
}

.token.operator,
.token.entity,
.token.url,
.language-css .token.string,
.style .token.string {
  color: hsl(19 20% 35%) !important;
}

.token.atrule,
.token.attr-value,
.token.keyword {
  color: hsl(16 60% 45%) !important;          /* Darker rust */
}

.token.function,
.token.class-name {
  color: hsl(32 70% 40%) !important;          /* Darker amber */
}

.token.regex,
.token.important,
.token.variable {
  color: hsl(16 50% 45%) !important;
}

/* Dark mode token colors - brighter for contrast */
.dark .token.comment,
.dark .token.prolog,
.dark .token.doctype,
.dark .token.cdata {
  color: hsl(32 10% 45%) !important;
}

.dark .token.punctuation {
  color: hsl(48 30% 60%) !important;
}

.dark .token.property,
.dark .token.tag,
.dark .token.boolean,
.dark .token.number,
.dark .token.constant,
.dark .token.symbol,
.dark .token.deleted {
  color: hsl(32 100% 65%) !important;
}

.dark .token.selector,
.dark .token.attr-name,
.dark .token.string,
.dark .token.char,
.dark .token.builtin,
.dark .token.inserted {
  color: hsl(96 33% 63%) !important;
}

.dark .token.operator,
.dark .token.entity,
.dark .token.url,
.dark .language-css .token.string,
.dark .style .token.string {
  color: hsl(48 52% 75%) !important;
}

.dark .token.atrule,
.dark .token.attr-value,
.dark .token.keyword {
  color: hsl(19 71% 60%) !important;
}

.dark .token.function,
.dark .token.class-name {
  color: hsl(32 100% 70%) !important;
}

.dark .token.regex,
.dark .token.important,
.dark .token.variable {
  color: hsl(16 59% 55%) !important;
}
